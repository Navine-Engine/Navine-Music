@import 'tailwindcss';
@plugin '@tailwindcss/forms';
@plugin '@tailwindcss/typography';

/* =========================
   THEME VARIABLES
   Sakura = DEFAULT ONLY
   ========================= */
:root {
  /* Background (static) */
  --bg-main: radial-gradient(
    circle at top,
    #2b1645 0%,
    #1a1025 45%,
    #0f0718 100%
  );

  /* Glass */
  --glass-bg: rgba(246, 193, 209, 0.12);
  --glass-border: rgba(249, 215, 227, 0.25);

  /* ðŸ”‘ ACCENT COLORS (DYNAMIC) */
  /* These get overridden by WebGL */
  --bloom-accent: #a78bfa;        /* sakura fallback */
  --bloom-glow: rgba(167, 139, 250, 0.35);

  /* Text */
  --text-main: #fdf4ff;
}

/* =========================
   Global Base
   ========================= */
html,
body {
  background: var(--bg-main);
  color: var(--text-main);
  font-family: 'Figtree', system-ui, sans-serif;
}

/* =========================
   Buttons & Links
   ========================= */
button,
[type='button'],
[type='submit'],
[type='reset'],
a,
[role='button'],
summary {
  cursor: pointer;

  /* âœ… NOW DRIVEN BY --bloom-accent */
  background: linear-gradient(
    135deg,
    var(--bloom-accent),
    color-mix(in srgb, var(--bloom-accent) 70%, white)
  );

  color: #120a1a;
  border-radius: 0.75rem;
  border: 1px solid var(--glass-border);

  box-shadow:
    0 8px 24px var(--bloom-glow),
    inset 0 1px 0 rgba(255, 255, 255, 0.35);

  transition:
    transform 0.15s ease,
    box-shadow 0.15s ease,
    background 0.15s ease;
}

button:hover,
a:hover,
[role='button']:hover {
  background: linear-gradient(
    135deg,
    color-mix(in srgb, var(--bloom-accent) 85%, white),
    color-mix(in srgb, var(--bloom-accent) 65%, white)
  );

  transform: translateY(-1px);
  box-shadow:
    0 12px 30px var(--bloom-glow);
}

/* Disabled */
button:disabled,
[type='button']:disabled,
[type='submit']:disabled,
[type='reset']:disabled,
[role='button'][aria-disabled='true'],
a[aria-disabled='true'] {
  cursor: not-allowed;
  opacity: 0.45;
  box-shadow: none;
}

/* =========================
   Glass Panels / UI
   ========================= */
.glass-panel,
.glass-toolbar,
.settings-menu,
.glass-option,
.glass-action,
.glass-panel__footer {
  background: var(--glass-bg);
  backdrop-filter: blur(var(--perf-blur-medium)) saturate(var(--perf-saturate));
  -webkit-backdrop-filter: blur(var(--perf-blur-medium)) saturate(var(--perf-saturate));

  border: 1px solid var(--glass-border);

  box-shadow:
    0 20px 40px color-mix(in srgb, var(--bloom-accent) 35%, transparent);

  border-radius: 1rem;
}

/* Toolbar buttons */
.toolbar-button {
  background: linear-gradient(
    135deg,
    color-mix(in srgb, var(--bloom-accent) 65%, transparent),
    color-mix(in srgb, var(--bloom-accent) 45%, transparent)
  );

  border: 1px solid var(--glass-border);
}

/* =========================
   Performance Modes
   ========================= */
:root[data-performance='medium'] {
  --perf-blur-high: 22px;
  --perf-blur-medium: 18px;
  --perf-blur-low: 14px;
  --perf-saturate: 125%;
}

:root[data-performance='low'] {
  --perf-blur-high: 0px;
  --perf-blur-medium: 0px;
  --perf-blur-low: 0px;
  --perf-saturate: 100%;
}

:root[data-performance='low'] * {
  backdrop-filter: none !important;
  -webkit-backdrop-filter: none !important;
}

:root[data-performance='low'] .glass-panel,
:root[data-performance='low'] .glass-toolbar,
:root[data-performance='low'] .settings-menu,
:root[data-performance='low'] .toolbar-button,
:root[data-performance='low'] .glass-option,
:root[data-performance='low'] .glass-action,
:root[data-performance='low'] .glass-panel__footer {
  background-color: #1a1025 !important;
  border-color: var(--glass-border) !important;
  box-shadow: none !important;
}

:root:not([data-performance='medium']):not([data-performance='low']) {
  --perf-blur-high: 32px;
  --perf-blur-medium: 28px;
  --perf-blur-low: 24px;
  --perf-saturate: 160%;
}

/* =========================
   Fonts (unchanged)
   ========================= */
@font-face {
  font-display: swap;
  font-family: 'Figtree';
  font-style: normal;
  font-weight: 400;
  src: url('/fonts/figtree-v9-latin_latin-ext-regular.woff2') format('woff2'),
       url('/fonts/figtree-v9-latin_latin-ext-regular.ttf') format('truetype');
}

@font-face {
  font-display: swap;
  font-family: 'Figtree';
  font-style: italic;
  font-weight: 400;
  src: url('/fonts/figtree-v9-latin_latin-ext-italic.woff2') format('woff2'),
       url('/fonts/figtree-v9-latin_latin-ext-italic.ttf') format('truetype');
}

@font-face {
  font-display: swap;
  font-family: 'Figtree';
  font-style: normal;
  font-weight: 700;
  src: url('/fonts/figtree-v9-latin_latin-ext-700.woff2') format('woff2'),
       url('/fonts/figtree-v9-latin_latin-ext-700.ttf') format('truetype');
}

@font-face {
  font-display: swap;
  font-family: 'Figtree';
  font-style: italic;
  font-weight: 700;
  src: url('/fonts/figtree-v9-latin_latin-ext-700italic.woff2') format('woff2'),
       url('/fonts/figtree-v9-latin_latin-ext-700italic.ttf') format('truetype');
}
